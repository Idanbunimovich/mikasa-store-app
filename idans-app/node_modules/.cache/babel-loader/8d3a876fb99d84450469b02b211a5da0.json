{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\idanb\\\\Desktop\\\\IDC\\\\semester b\\\\app development\\\\ex\\\\ex3\\\\mikasa-store-app\\\\idans-app\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport Register from \"./register\";\nimport Navigation from \"./navigation\";\nimport Logo from \"./logo\";\nimport Particles from 'react-particles-js';\nimport CardList from \"./CardList\";\nimport Signin from \"./SignIn\";\nimport Sports from \"./Sports\";\nimport AboutMe from \"./aboutMe\";\nimport ShoppingCart from \"./ShoppingCart\";\nimport AllUsers from \"./AllUsers\";\nimport Readme from \"./readme\";\nimport ErrorBoundry from \"./ErrorBoundry\";\nconst particlesOptions = {\n  particles: {\n    number: {\n      value: 30,\n      density: {\n        enable: true,\n        value_area: 800\n      }\n    }\n  },\n  interactivity: {\n    \"detect_on\": \"window\",\n    \"events\": {\n      \"onhover\": {\n        \"enable\": true,\n        \"mode\": \"repulse\"\n      },\n      \"onclick\": {\n        \"enable\": true,\n        \"mode\": \"push\"\n      },\n      \"resize\": true\n    }\n  }\n};\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getComponent = () => {\n      switch (this.state.route) {\n        case 'home':\n          return /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 26\n            }\n          }, /*#__PURE__*/React.createElement(Logo, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 23\n            }\n          }), /*#__PURE__*/React.createElement(CardList, {\n            id: this.state.user.id,\n            load: this.loadNewAmount,\n            isSignedIn: this.state.isSignedIn,\n            volleyball: this.state.user.volleyball,\n            soccer: this.state.user.soccer,\n            basketball: this.state.user.basketball,\n            footy: this.state.user.footy,\n            futsal: this.state.user.futsal,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 23\n            }\n          }));\n\n        case 'allusers':\n          return /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 31\n            }\n          }, /*#__PURE__*/React.createElement(AllUsers, {\n            allusers: this.state.allusers,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 23\n            }\n          }));\n\n        case \"signin\":\n          return /*#__PURE__*/React.createElement(Signin, {\n            loadUser: this.loadUser,\n            onRouteChange: this.onRouteChange,\n            loggingIn: this.loggingIn,\n            email: this.state.user.email,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 19\n            }\n          });\n\n        case \"register\":\n          return /*#__PURE__*/React.createElement(Register, {\n            loadUser: this.loadUser,\n            onRouteChange: this.onRouteChange,\n            loggingIn: this.loggingIn,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 19\n            }\n          });\n\n        case 'aboutme':\n          return /*#__PURE__*/React.createElement(AboutMe, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 23\n            }\n          });\n\n        case \"sports\":\n          return /*#__PURE__*/React.createElement(Sports, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 19\n            }\n          });\n\n        case \"shoppingcart\":\n          return /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 27\n            }\n          }, /*#__PURE__*/React.createElement(\"p\", {\n            className: \"pa3 center mb0 f2 measure b\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 23\n            }\n          }, `${this.state.user.name}\\`s shopping cart`), /*#__PURE__*/React.createElement(ShoppingCart, {\n            load: this.loadNewAmount,\n            id: this.state.user.id,\n            volleyball: this.state.user.volleyball,\n            soccer: this.state.user.soccer,\n            basketball: this.state.user.basketball,\n            footy: this.state.user.footy,\n            futsal: this.state.user.futsal,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 23\n            }\n          }));\n\n        case \"readme\":\n          return /*#__PURE__*/React.createElement(Readme, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 26\n            }\n          });\n\n        default:\n          break;\n      }\n    };\n\n    this.loggingIn = async id => {\n      try {\n        await this.setState({\n          isSignedIn: true\n        });\n        const token = window.localStorage.getItem('token');\n        let result = await fetch(`http://localhost:3000/signin`, {\n          method: 'put',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': token\n          },\n          body: JSON.stringify({\n            id: id,\n            isloggedin: this.state.isSignedIn\n          })\n        });\n        let result2 = await result.json();\n        return result2;\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    this.onRouteChange = route => {\n      if (route === 'signout') {\n        this.setState({\n          isSignedIn: false,\n          route: 'aboutme'\n        });\n        const token = window.localStorage.getItem('token');\n        fetch(`http://localhost:3000/signout`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': token\n          },\n          body: JSON.stringify({\n            id: this.state.user.id,\n            isloggedin: this.state.isSignedIn\n          })\n        }).then(() => {\n          window.localStorage.removeItem(token);\n        });\n      } else if (route === 'allusers') {\n        const token = window.localStorage.getItem('token');\n        fetch(`http://localhost:3000/allprofile/${this.state.user.id}`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': token\n          }\n        }).then(response => response.json()).then(response => {\n          this.setState({\n            allusers: response\n          }, () => this.setState({\n            route: route\n          }));\n        }).catch(err => console.log(\"yeah\"));\n      } else {\n        this.setState({\n          route: route\n        });\n      }\n    };\n\n    this.loadUser = data => {\n      if (data.id === undefined) {\n        return;\n      } else {\n        this.setState({\n          user: {\n            id: data.id,\n            name: data.name,\n            email: data.email,\n            remember: data.remember,\n            basketball: data.basketball,\n            volleyball: data.volleyball,\n            soccer: data.soccer,\n            footy: data.footy,\n            futsal: data.futsal\n          }\n        });\n      }\n    };\n\n    this.loadNewAmount = (basketball, volleyball, futsal, footy, soccer) => {\n      this.setState(Object.assign(this.state.user, {\n        basketball: basketball,\n        volleyball: volleyball,\n        soccer: soccer,\n        footy: footy,\n        futsal: futsal\n      }));\n    };\n\n    this.state = {\n      route: 'aboutme',\n      isSignedIn: false,\n      allusers: '',\n      user: {\n        id: '',\n        name: '',\n        email: '',\n        remember: false,\n        basketball: '',\n        volleyball: '',\n        soccer: '',\n        footy: '',\n        futsal: ''\n      }\n    };\n    /*this.getComponent=this.getComponent.bind(this);\n    this.onRouteChange=this.onRouteChange.bind(this);\n    this.loadNewAmount=this.loadNewAmount.bind(this);\n    this.loadUser=this.loadUser.bind(this);\n    this.loggingIn=this.loggingIn.bind(this);*/\n  }\n\n  componentDidMount() {\n    const token = window.localStorage.getItem('token');\n    const email = window.localStorage.getItem('email');\n    const password = window.localStorage.getItem('password');\n\n    if (password && email) {\n      this.setState(Object.assign(this.state.user, {\n        email: email\n      }));\n    }\n\n    if (token !== undefined && token !== null) {\n      fetch('http://localhost:3000/signin', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': token\n        }\n      }).then(response => response.json()).then(data => {\n        if (data && data.id) {\n          fetch(`http://localhost:3000/profile/${data.id}`, {\n            method: 'GET',\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': token\n            }\n          }).then(response => response.json()).then(user => {\n            if (user && user.email) {\n              this.loadUser(user);\n              let message = this.loggingIn(user.id);\n            }\n          });\n        }\n      }).catch(err => console.log(err.toString()));\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Particles, {\n      className: \"particles\",\n      params: particlesOptions,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Navigation, {\n      classsName: \"flex\",\n      onRouteChange: this.onRouteChange,\n      isSignedIn: this.state.isSignedIn,\n      id: this.state.user.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(ErrorBoundry, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }\n    }, this.getComponent()));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/idanb/Desktop/IDC/semester b/app development/ex/ex3/mikasa-store-app/idans-app/src/App.js"],"names":["React","Component","Register","Navigation","Logo","Particles","CardList","Signin","Sports","AboutMe","ShoppingCart","AllUsers","Readme","ErrorBoundry","particlesOptions","particles","number","value","density","enable","value_area","interactivity","App","constructor","props","getComponent","state","route","user","id","loadNewAmount","isSignedIn","volleyball","soccer","basketball","footy","futsal","allusers","loadUser","onRouteChange","loggingIn","email","name","setState","token","window","localStorage","getItem","result","fetch","method","headers","body","JSON","stringify","isloggedin","result2","json","e","console","log","then","removeItem","response","catch","err","data","undefined","remember","Object","assign","componentDidMount","password","message","toString","render"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport './App.css';\nimport Register from \"./register\";\nimport Navigation from \"./navigation\";\nimport Logo from \"./logo\";\nimport Particles from 'react-particles-js';\nimport CardList from \"./CardList\";\nimport Signin from \"./SignIn\";\nimport Sports from \"./Sports\";\nimport AboutMe from \"./aboutMe\";\nimport ShoppingCart from \"./ShoppingCart\";\nimport AllUsers from \"./AllUsers\";\nimport Readme from \"./readme\";\nimport ErrorBoundry from \"./ErrorBoundry\";\nconst particlesOptions = {\n      particles: {\n\n            number: {\n                  value: 30,\n                  density: {\n                        enable: true,\n                        value_area: 800\n                  }\n            }\n      },\n      interactivity: {\n            \"detect_on\": \"window\",\n            \"events\": {\n                  \"onhover\": {\n                        \"enable\": true,\n                        \"mode\": \"repulse\"\n                  },\n                  \"onclick\": {\n                        \"enable\": true,\n                        \"mode\": \"push\"\n                  },\n                  \"resize\": true\n\n            }\n      }\n}\n\nclass App extends Component {\n      constructor(props) {\n            super(props);\n\n            this.state = {\n                  route: 'aboutme',\n                  isSignedIn: false,\n                  allusers:'',\n                  user: {\n                        id: '',\n                        name: '',\n                        email: '',\n                      remember:false,\n                      basketball:'',\n                      volleyball:'',\n                      soccer:'',\n                      footy:'',\n                      futsal:''\n\n                  }\n\n            };\n            /*this.getComponent=this.getComponent.bind(this);\n            this.onRouteChange=this.onRouteChange.bind(this);\n            this.loadNewAmount=this.loadNewAmount.bind(this);\n            this.loadUser=this.loadUser.bind(this);\n            this.loggingIn=this.loggingIn.bind(this);*/\n      }\n\n\n\n    componentDidMount() {\n        const token = window.localStorage.getItem('token');\n        const email = window.localStorage.getItem('email');\n        const password = window.localStorage.getItem('password');\n        if(password && email){\n            this.setState(Object.assign(this.state.user,{email:email}))\n        }\n\n        if (token!==undefined&&token!==null) {\n\n            fetch('http://localhost:3000/signin', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': token\n                }\n            })\n                .then(response =>\n                    response.json())\n                .then(data => {\n                        if (data && data.id) {\n                        fetch(`http://localhost:3000/profile/${data.id}`, {\n                            method: 'GET',\n                            headers: {\n                                'Content-Type': 'application/json',\n                                'Authorization': token\n                            }\n                        })\n                            .then(response => response.json())\n                            .then(user => {\n                                if (user && user.email) {\n                                    this.loadUser(user)\n                                    let message = this.loggingIn(user.id)\n                                }\n                            })\n                    }\n                })\n                .catch(err => console.log(err.toString()))\n        }\n\n    }\n\n\n\n\n\n    getComponent = () => {\n\n          switch (this.state.route) {\n              case 'home':\n                  return(<div>\n                      <Logo/>\n                      <CardList  id = {this.state.user.id} load={this.loadNewAmount} isSignedIn ={this.state.isSignedIn}volleyball = {this.state.user.volleyball} soccer = {this.state.user.soccer}basketball = {this.state.user.basketball}footy = {this.state.user.footy}futsal = {this.state.user.futsal}/>\n                  </div>);\n              case 'allusers':\n\n                      return (<div>\n\n                      <AllUsers allusers={this.state.allusers}/>\n                  </div>)\n\n              case \"signin\":\n                  return(\n                  <Signin loadUser={this.loadUser} onRouteChange={this.onRouteChange} loggingIn ={this.loggingIn} email = {this.state.user.email}/>);\n\n              case \"register\":\n                  return(\n                  <Register loadUser={this.loadUser} onRouteChange={this.onRouteChange} loggingIn ={this.loggingIn}/>);\n\n              case 'aboutme':\n                  return(\n                      <AboutMe/>);\n\n              case \"sports\":\n                  return(\n                  <Sports/>);\n\n              case \"shoppingcart\":\n\n                  return (<div>\n                      <p className='pa3 center mb0 f2 measure b'>{`${this.state.user.name}\\`s shopping cart`}</p>\n                      <ShoppingCart  load={this.loadNewAmount} id = {this.state.user.id} volleyball = {this.state.user.volleyball} soccer = {this.state.user.soccer}basketball = {this.state.user.basketball}footy = {this.state.user.footy}futsal = {this.state.user.futsal}/>\n                  </div>)\n              case \"readme\":\n                  return <Readme/>;\n              default :\n                  break;\n\n          }\n      }\n      loggingIn = async (id) => {\n          try {\n              await this.setState({isSignedIn: true})\n              const token = window.localStorage.getItem('token');\n              let result = await fetch(`http://localhost:3000/signin`, {\n                  method: 'put',\n                  headers: {\n                      'Content-Type': 'application/json',\n                      'Authorization': token\n                  },\n                  body: JSON.stringify({\n                      id: id,\n                      isloggedin: this.state.isSignedIn\n                  })\n              })\n              let result2 = await result.json()\n              return result2;\n\n\n          }\n          catch (e) {\n              console.log(e)\n          }\n\n\n      }\n      onRouteChange = (route) => {\n            if (route === 'signout') {\n                  this.setState({isSignedIn: false,route:'aboutme'})\n                  const token = window.localStorage.getItem('token');\n                  fetch(`http://localhost:3000/signout`, {\n                      method: 'POST',\n                      headers: {\n                          'Content-Type': 'application/json',\n                          'Authorization': token\n                      },\n                      body: JSON.stringify({\n                          id: this.state.user.id,\n                          isloggedin: this.state.isSignedIn\n                      })\n                   }).then(() => {\n                      window.localStorage.removeItem(token)\n                   });\n\n            } else if(route === 'allusers') {\n                const token = window.localStorage.getItem('token');\n                fetch(`http://localhost:3000/allprofile/${this.state.user.id}`, {\n                    method: 'GET',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Authorization': token\n                    }\n                })\n                    .then(response => response.json())\n                    .then(response => {\n                        this.setState({allusers: response},()=>this.setState({route: route}))\n                    }).catch(err => console.log(\"yeah\"));\n            }\n\n            else{\n                this.setState({route: route});\n            }\n\n      }\n      loadUser = (data) => {\n          if(data.id===undefined){\n              return;\n          }\n          else {\n              this.setState({\n                  user: {\n                      id: data.id,\n                      name: data.name,\n                      email: data.email,\n                      remember:data.remember,\n                      basketball: data.basketball,\n                      volleyball: data.volleyball,\n                      soccer: data.soccer,\n                      footy: data.footy,\n                      futsal: data.futsal\n                  }\n              })\n          }\n      }\n      loadNewAmount= (basketball,volleyball,futsal,footy,soccer) => {\n                      this.setState(Object.assign(this.state.user,{\n                      basketball: basketball,\n                      volleyball: volleyball,\n                      soccer: soccer,\n                      footy: footy,\n                      futsal: futsal\n                  }\n              ))\n          }\n\n\n      render (){\n\n            return(\n    <div className=\"App\">\n          <Particles className=\"particles\"  params={particlesOptions}  />\n        <Navigation classsName='flex' onRouteChange={this.onRouteChange} isSignedIn={this.state.isSignedIn} id={this.state.user.id}/>\n        <ErrorBoundry>\n        {this.getComponent()}\n        </ErrorBoundry>\n\n    </div>\n            );\n\n}\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}